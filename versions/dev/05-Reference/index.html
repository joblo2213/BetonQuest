
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<link href="https://betonquest.pl/05-Reference/" rel="canonical"/>
<meta content="Co0sh" name="author"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.6.3" name="generator"/>
<title>Reference - BetonQuest</title>
<link href="../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<link href="../assets/stylesheets/application-palette.a8b3c06d.css" rel="stylesheet"/>
<meta content="#3f51b5" name="theme-color"/>
<script src="../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../css/mkpdf.css" rel="stylesheet"/>
<link href="../css/version_select.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" dir="ltr">
<svg class="md-svg">
<defs>
<svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg"><path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#reference" tabindex="0">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="BetonQuest" class="md-header-nav__button md-logo" href="https://betonquest.pl" title="BetonQuest">
<img alt="logo" height="24" src="../img/header_logo.png" width="24"/>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              BetonQuest
            </span>
<span class="md-header-nav__topic">
              
                Reference
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        Óóç
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Type to start searching
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/Co0sh/BetonQuest" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    Co0sh/BetonQuest
  </div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://betonquest.pl" title="BetonQuest">
<img alt="logo" height="48" src="../img/header_logo.png" width="48"/>
</a>
    BetonQuest
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/Co0sh/BetonQuest" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    Co0sh/BetonQuest
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-Installation-and-Configuration/" title="Installation and Configuration">
      Installation and Configuration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03-Commands-and-permissions/" title="Commands and Permissions">
      Commands and Permissions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04-Quick-start-tutorial/" title="Quick Start Tutorial">
      Quick Start Tutorial
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Reference
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Reference">
      Reference
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#conversations">
    Conversations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-conversation-pointers">
    Cross-conversation pointers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conversation-variables">
    Conversation variables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#translations">
    Translations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conversation-displaying">
    Conversation displaying
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-extends">
    Advanced: Extends
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chat-interceptors">
    Chat Interceptors
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditions-events-and-objectives">
    Conditions, Events and Objectives
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#conditions">
    Conditions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#events">
    Events
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#objectives">
    Objectives
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#packages">
    Packages
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#relative-paths">
    Relative paths
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unified-location-formating">
    Unified location formating
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-variables">
    Global variables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#canceling-quests">
    Canceling quests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-objectives">
    Global objectives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-events">
    Static events
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#journal">
    Journal
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tags">
    Tags
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#points">
    Points
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#npcs">
    NPCs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#items">
    Items
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#books">
    Books
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#potions">
    Potions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#heads">
    Heads
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#leather-armor">
    Leather armor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fireworks">
    Fireworks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#firework-charges">
    Firework charges
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backpack">
    Backpack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#party">
    Party
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#block-selectors">
    Block Selectors
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pre-113-minecraft">
    Pre 1.13 Minecraft
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#113-and-above">
    1.13 and above
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Notifications/" title="Notifications">
      Notifications
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06-Conditions-List/" title="Conditions">
      Conditions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07-Events-List/" title="Events">
      Events
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../08-Objectives-List/" title="Objectives">
      Objectives
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09-Variables-List/" title="Variables">
      Variables
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10-Compatibility/" title="Compatibility">
      Compatibility
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../11-Tips-and-tricks/" title="Tips and Tricks">
      Tips and Tricks
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12-Frequently-Asked-Questions/" title="FAQ">
      FAQ
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../13-Info-for-developers/" title="Developers">
      Developers
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../14-Contributing/" title="Contributing">
      Contributing
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#conversations">
    Conversations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-conversation-pointers">
    Cross-conversation pointers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conversation-variables">
    Conversation variables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#translations">
    Translations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conversation-displaying">
    Conversation displaying
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-extends">
    Advanced: Extends
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chat-interceptors">
    Chat Interceptors
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conditions-events-and-objectives">
    Conditions, Events and Objectives
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#conditions">
    Conditions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#events">
    Events
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#objectives">
    Objectives
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#packages">
    Packages
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#relative-paths">
    Relative paths
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unified-location-formating">
    Unified location formating
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-variables">
    Global variables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#canceling-quests">
    Canceling quests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-objectives">
    Global objectives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-events">
    Static events
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#journal">
    Journal
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tags">
    Tags
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#points">
    Points
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#npcs">
    NPCs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#items">
    Items
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#books">
    Books
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#potions">
    Potions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#heads">
    Heads
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#leather-armor">
    Leather armor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fireworks">
    Fireworks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#firework-charges">
    Firework charges
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backpack">
    Backpack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#party">
    Party
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#block-selectors">
    Block Selectors
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pre-113-minecraft">
    Pre 1.13 Minecraft
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#113-and-above">
    1.13 and above
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-content__icon pdf-download-btn" download href="../pdf/documentation.pdf" title="Download"><i class="fa fas fa-download"></i><small> PDF</small></a>
<h1 id="reference">Reference</h1>
<p>This chapter describes all aspects of BetonQuest in one place. You should read it at least once to know what you're dealing with and where to search for information if you ever have any problems.</p>
<h2 id="conversations">Conversations</h2>
<p>Each conversation must define name of the NPC (some conversations can be not bound to any NPC, so it‚Äôs important to specify it even though an NPC will have a name) and his initial options.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">quester</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Name</span>
<span class="nt">first</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">option1, option2</span>
<span class="nt">stop</span><span class="p">:</span> <span class="s">'true'</span>
<span class="nt">final_events</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event1, event2</span>
<span class="nt">interceptor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="nt">NPC_options</span><span class="p">:</span>
  <span class="nt">option1</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Some text in default language</span>
    <span class="nt">events</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event3, event4</span>
    <span class="nt">conditions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">condition1, !condition2</span>
    <span class="nt">pointers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">reply1, reply2</span>
  <span class="nt">option2</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="s">'&amp;3This</span><span class="nv"> </span><span class="s">ends</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">conversation'</span>
<span class="nt">player_options</span><span class="p">:</span>
  <span class="nt">reply1</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span>
      <span class="nt">en</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Text in English</span>
      <span class="nt">pl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Tekst po polsku</span>
    <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event5</span>
    <span class="nt">condition</span><span class="p">:</span> <span class="s">'!condition3'</span>
    <span class="nt">pointer</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">option2</span>
  <span class="nt">reply2</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="s">'Text</span><span class="nv"> </span><span class="s">containing</span><span class="nv"> </span><span class="se">''</span><span class="nv"> </span><span class="s">character'</span>
</code></pre></div>
</td></tr></table></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Configuration files use YAML syntax. Google it if you don't know anything about it. Main rule is that you must use two spaces instead of tabs when going deeper into the hierarchy tree. If you want to write <code class="codehilite"><span class="err">'</span></code> character, you must double it and surround the whole text with another <code class="codehilite"><span class="err">'</span></code> characters. When writing <code class="codehilite"><span class="err">true</span></code> or <code class="codehilite"><span class="err">false</span></code> it also needs to be surrounded with <code class="codehilite"><span class="err">'</span></code>. If you want to start the line with <code class="codehilite"><span class="err">&amp;</span></code> character, the whole line needs to be surrounded with <code class="codehilite"><span class="err">'</span></code>. You can check if the file is correct using <a href="http://www.yamllint.com">this tool</a>.</p>
</div>
<ul>
<li><code class="codehilite"><span class="err">quester</span></code> is name of NPC. It should be the same as name of NPC this conversation is assigned to for greater immersion, but it's your call.</li>
<li><code class="codehilite"><span class="err">first</span></code> are pointers to options the NPC will use at the beginning of the conversation. He will choose the first one that meets all conditions. You define these options in <code class="codehilite"><span class="err">npc_options</span></code> branch.</li>
<li><code class="codehilite"><span class="err">final_events</span></code> are events that will fire on conversation end, no matter how it ends (so you can create e.g. guards attacking the player if he tries to run). You can leave this option out if you don't need any final events.</li>
<li><code class="codehilite"><span class="err">stop</span></code> determines if player can move away from an NPC while in this conversation (false) or if he's stopped every time he tries to (true). If enabled, it will also suspend the conversation when the player quits, and resume it after he joins back in. This way he will have to finish his conversation no matter what. <em>It needs to be in <code class="codehilite"><span class="err">''</span></code>!</em> You can modify the distance at which the conversation is ended / player is moved back with <code class="codehilite"><span class="err">max_npc_distance</span></code> option in the <em>config.yml</em>.</li>
<li><code class="codehilite"><span class="err">interceptor</span></code> optionally set a chat interceptor for this conversation. Multiple interceptors can be provided in a comma-separated list with the first valid one used.</li>
<li><code class="codehilite"><span class="err">NPC_options</span></code> is a branch with texts said by the NPC.</li>
<li><code class="codehilite"><span class="err">player_options</span></code> is a branch with options the player can choose.</li>
<li><code class="codehilite"><span class="err">text</span></code> defines what will display on screen. If you don't want to set any events/conditions/pointers to the option, just skip them. Only <code class="codehilite"><span class="err">text</span></code> is always required.</li>
<li><code class="codehilite"><span class="err">conditions</span></code> are names of conditions which must be met for this option to display, separated by commas.</li>
<li><code class="codehilite"><span class="err">events</span></code> is a list of events that will fire when an option is chosen (either by NPC or a player), defined similarly to conditions.</li>
<li><code class="codehilite"><span class="err">pointer</span></code> is list of pointers to the opposite branch (from NPC branch it will point to options player can choose from when answering, and from player branch it will point to different NPC reactions).</li>
</ul>
<p>When an NPC wants to say something he will check conditions for the first option (in this case <code class="codehilite"><span class="err">option1</span></code>). If they are met, he will choose it. Otherwise, he will skip to next option (note: conversation ends when there are no options left to choose). After choosing an option NPC will execute any events defined in it, say it, and then the player will see options defined in <code class="codehilite"><span class="err">player_options</span></code> branch to which <code class="codehilite"><span class="err">pointers</span></code> setting points, in this case <code class="codehilite"><span class="err">reply1</span></code> and <code class="codehilite"><span class="err">reply2</span></code>. If the conditions for the player option are not met, the option is simply not displayed, similar to texts from NPC. Player will choose option he wants, and it will point back to other NPC text, which points to next player options and so on.</p>
<p>If there are no possible options for player or NPC (either from not meeting any conditions or being not defined) the conversations ends. If the conversation ends unexpectedly, check the console - it could be an error in the configuration.</p>
<p>This can and will be a little confusing, so you should name your options, conditions and events in a way which you will understand in the future. Don't worry though, if you make some mistake in configuration, the plugin will tell you this in console when testing a conversation. Also, study the default conversation included with the plugin to fully understand how powerful this system can be.</p>
<h3 id="cross-conversation-pointers">Cross-conversation pointers</h3>
<p>If you want to create a conversation with multiple NPCs at once or split a huge conversation into smaller, more focused files, you can point to NPC options in other conversation. Just type the pointer as <code class="codehilite"><span class="err">conversation.npc_option</span></code>.</p>
<p>Keep in mind that you can only cross-point to NPC options. It means that you can use those pointers only in <code class="codehilite"><span class="err">first</span></code> starting options and in all player options. Using them in NPC options will throw errors.</p>
<h3 id="conversation-variables">Conversation variables</h3>
<p>You can use variables in the conversations. They will be resolved and displayed to the player when he starts a conversation. A variable generally looks like that: <code class="codehilite"><span class="nf">%type</span><span class="p">.</span><span class="n">optional</span><span class="p">.</span><span class="n">arguments</span><span class="o">%</span></code>. Type is a mandatory argument, it defines what kind of variable it is. Optional arguments depend on the type of the variable, i.e. <code class="codehilite"><span class="nf">%npc</span><span class="o">%</span></code> does not have any additional arguments, but <code class="codehilite"><span class="nf">%player</span><span class="o">%</span></code> can also have <code class="codehilite"><span class="err">display</span></code> (it will look like that: <code class="codehilite"><span class="nf">%player</span><span class="p">.</span><span class="n">display</span><span class="o">%</span></code>). You can find a list of all available variable types in the "Variables List" chapter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use a variable incorrectly (for example trying to get a property of an objective which isn't active for the player, or using %npc% in <code class="codehilite"><span class="err">message</span></code> event), the variable will be replaced with empty string ("").</p>
</div>
<h3 id="translations">Translations</h3>
<p>As you can see in default conversation, there are additional messages in other languages. That's because you can translate your conversations into multiple languages. The players will be albe to choose their preferred one with <strong>/questlang</strong> command. You can translate every NPC/player option and quester's name. You do this like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">quester</span><span class="p">:</span>
  <span class="nt">en</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Innkeeper</span>
  <span class="nt">pl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Karczmarz</span>
  <span class="nt">de</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Gastwirt</span>
</code></pre></div>
</td></tr></table>
<p>As said before, the same rule applies to all options and quester's name. The player can choose only from languages present in <em>messages.yml</em>, and if there will be no translation to this language in the conversation, the plugin will fall back to the default language, as defined in <em>config.yml</em>. If that one is not defined, there will be an error.</p>
<p>You can also translate journal entries, quest cancelers and <code class="codehilite"><span class="err">message</span></code> events, more about that later.</p>
<h3 id="conversation-displaying">Conversation displaying</h3>
<p>By default BetonQuest uses the most native and safe way of displaying a conversation, which is the Minecraft chat. You choose the option by typing their number in. You can however change it with <code class="codehilite"><span class="err">default_conversation_IO</span></code> option in <em>config.yml</em> file. Default value is <code class="codehilite"><span class="err">simple</span></code>. By changing it to <code class="codehilite"><span class="err">tellraw</span></code> you will add a possibility to click on options. Keep in mind that if the chat is quickly flowing, players will sometimes "miss" an option and click another one. There is a display type that doesn't suffer from this problem at all, it's called <code class="codehilite"><span class="err">chest</span></code>. It will display the conversation in an inventory GUI, where the NPC's text and options will be shown as item lore. Alternatively use <code class="codehilite"><span class="err">slowtellraw</span></code> which provides the npc responses line by line delayed by 0.5 seconds. If you have <code class="codehilite"><span class="err">protocollib</span></code> then you can use <code class="codehilite"><span class="err">menu</span></code>.</p>
<p>You can control the colors of conversation elements in the <em>config.yml</em> file, in <code class="codehilite"><span class="err">conversation_colors</span></code> section. Here you must use names of the colors.</p>
<p>If you're using the <code class="codehilite"><span class="err">chest</span></code> display method you can change the option's item to something else than Ender Pearl by adding a prefix to that option's text. The prefix is a name of the material (like in <em>items.yml</em>) inside curly brackets, with optional damage value after a colon. Example of such option text: <code class="codehilite"><span class="err">{diamond_sword}I want to start a quest!</span></code> or <code class="codehilite"><span class="err">{wool:10}Purple!</span></code></p>
<p>In case you want to use a different type of conversation display for a specific conversation you can add <code class="codehilite"><span class="c">conversationIO: &lt;type&gt;</span></code> setting to the conversation file at the top of the YAML hierarchy, which is the same level as <code class="codehilite"><span class="err">quester</span></code> or <code class="codehilite"><span class="err">first</span></code> options).</p>
<h3 id="advanced-extends">Advanced: Extends</h3>
<p>Conversation also supports the concept of inheritance. Any option can include the key <code class="codehilite"><span class="err">extends</span></code> with a comma delimited list of other options of the same time. The first option that does not have any false conditions will have it's text, pointers and events merged with the extending option. The extended option may itself extend other options. Infinite loops are detected.</p>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">NPC_options</span><span class="p">:</span>

  <span class="c1">## Normal Conversation Start</span>
  <span class="nt">start</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="s">'What</span><span class="nv"> </span><span class="s">can</span><span class="nv"> </span><span class="s">I</span><span class="nv"> </span><span class="s">do</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">you'</span>
    <span class="nt">extends</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tonight, today</span>

  <span class="c1">## Useless addition as example</span>
  <span class="nt">tonight</span><span class="p">:</span>
    <span class="c1"># Always false</span>
    <span class="nt">condition</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">random 0-1</span>
    <span class="nt">text</span><span class="p">:</span> <span class="s">'</span><span class="nv"> </span><span class="s">tonight?'</span>
    <span class="nt">extends</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main_menu</span>

  <span class="nt">today</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="s">'</span><span class="nv"> </span><span class="s">today?'</span>
    <span class="nt">extends</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main_menu</span>

  <span class="c1">## Main main_menu</span>
<span class="-Error"> </span><span class="nt">main_menu</span><span class="p">:</span>
   <span class="nt">pointers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">i_have_questions, bye</span>
</code></pre></div>
</td></tr></table>
In the above example, the option <em>start</em> is extended by both <em>tonight</em> and <em>today</em>, both of whom are extended by <em>main_menu</em>. As <em>tonight</em> has a false condition the <em>today</em> option will win. The <em>start</em> option will have the pointers in main_menu added to it just as if they were defined directly in it and the text will be joined together from <em>today</em>. If you structure your conversation correctly you can make use of this to minimize duplication.</p>
<h3 id="chat-interceptors">Chat Interceptors</h3>
<p>During chat it can be distracting when messages from other players or system message interfere with the dialogue. A chat interceptor provides a method of intercepting these message and then playing them back later.</p>
<p>A default chat interceptor is specified in <code class="codehilite"><span class="err">config.yml</span></code> by setting <code class="codehilite"><span class="err">default_interceptor</span></code>. This defaults to <code class="codehilite"><span class="err">simple</span></code> for the simple interceptor. The chat interceptor can also be set per conversation though the use of <code class="codehilite"><span class="err">interceptor</span></code> key in the conversation. If you have <code class="codehilite"><span class="err">protocollib</span></code> installed then you can use the <code class="codehilite"><span class="err">packet</span></code> interceptor that should intercept anything. </p>
<h2 id="conditions-events-and-objectives">Conditions, Events and Objectives</h2>
<p>Conditions, events and objectives are defined with an "instruction string". It's a piece of text, formatted in a specific way, containing the instruction for the condition/event/objective. Thanks to this string they know what should they do. To define the instruction string you will need a reference, few pages below. It describes how something behaves and how it should be created. All instruction strings are defined in appropriate files, for example all conditions are in <em>conditions.yml</em> config. The syntax used to define them looks like this: <code class="codehilite"><span class="c">name: 'the instruction string containing the data'</span></code>. Apostrophes are optional in most cases, you can find out when to use them by looking up "YAML syntax" in Google.</p>
<h3 id="conditions">Conditions</h3>
<p>Conditions are the most versatile and useful tools in creating advanced quests. They allow you to control what options are available to player in conversations, how the NPC responds or if the objective will be completed. The reference of all possible conditions is down below.</p>
<p>You can negate the condition (revert its output) by adding an exclamation mark (<code class="codehilite"><span class="err">!</span></code>) at the beginning of it's name (in the place you use it, i.e. in conversations, not in the <em>conditions.yml</em> file).</p>
<p>You can use conversation variables instead of numeric arguments in conditions. If the variable fails to resolve (i.e. it will return an empty string) BetonQuest will use 0 instead.</p>
<h3 id="events">Events</h3>
<p>In certain moments you will want something to happen. Updating the journal, setting tags, giving rewards, all these are done using events. You define them just like conditions, by specifying a name and instruction string. You can find instruction strings to all events in the event reference. At the end of the instruction string you can add <code class="codehilite"><span class="c">conditions:</span></code> or <code class="codehilite"><span class="c">condition:</span></code> (with or without <code class="codehilite"><span class="err">s</span></code> at the end) attribute followed by a list of condition names separated by commas, like <code class="codehilite"><span class="n">conditions</span><span class="o">:</span><span class="n">angry</span><span class="o">,!</span><span class="n">quest_started</span></code>. This will make an event fire only when these conditions are met.</p>
<p>You can use conversation variables instead of numeric arguments in events. If the variable fails to resolve (i.e. it will return an empty string) BetonQuest will use 0 instead.</p>
<h3 id="objectives">Objectives</h3>
<p>Objectives are the main things you will use when creating complex quests. You start them with a special event, <code class="codehilite"><span class="err">objective</span></code>. You define them in the <em>objectives.yml</em> file, just as you would conditions or events. At the end of the instruction string you can add conditions and events for the objective. Conditions will limit when the objective can be completed (e.g. killing zombies only at given location in quest for defending city gates), and events will fire when the objective is completed (e.g. giving a reward, or setting a tag which will enable collecting a reward from an NPC). You define these like that: <code class="codehilite"><span class="n">conditions</span><span class="o">:</span><span class="n">con1</span><span class="o">,</span><span class="n">con2</span> <span class="n">events</span><span class="o">:</span><span class="n">event1</span><span class="o">,</span><span class="n">event2</span></code> at the end of instruction string . Separate them by commas and never use spaces! You can also use singular forms of these arguments: <code class="codehilite"><span class="c">condition:</span></code> and <code class="codehilite"><span class="c">event:</span></code>.</p>
<p>If you want to start an objective right after it was completed (for example <code class="codehilite"><span class="err">die</span></code> objective: when you die, teleport you to a special spawnpoint and start <code class="codehilite"><span class="err">die</span></code> objective again), you can add <code class="codehilite"><span class="err">persistent</span></code> argument at the end of an instruction string. It will prevent the objective from being completed, although it will run all its events. To cancel such objective you will need to use <code class="codehilite"><span class="err">objective delete</span></code> event.</p>
<p>Objectives are loaded at start-up, but they do not consume resources without player actually having them active. This means that if you have 100 objectives defined, and 20 players doing one objective, 20 another players doing second objective, and the rest objectives are inactive (no one does them), then only 2 objectives will be consuming your server resources, not 100, not 40.</p>
<h2 id="packages">Packages</h2>
<p>All the content you create is organized into packages. Each package must contain the <em>main.yml</em> file with package-specific settings. Additionally it can have <em>conversations</em> directory with conversation files, <em>events.yml</em>, <em>conditions.yml</em>, <em>objectives.yml</em>, <em>items.yml</em> and <em>journal.yml</em>. The default package is called simply "default". It is always present, and if you delete it, it will be regenerated with a sample quest.</p>
<p>If you want, you can simply ignore the existence of packages and write all your quests in the default one. You will however come to a point, when your files contain hundreds of lines and it gets a little bit confusing. That's why it's better to split your quests into multiple packages, for example "main" for the quests in the main city, "dungeon" for some interesting dungeon story etc.</p>
<p>Each package can be disabled/enabled in the <em>main.yml</em> file, by setting <code class="codehilite"><span class="err">enabled</span></code> to <code class="codehilite"><span class="err">true</span></code> or <code class="codehilite"><span class="err">false</span></code>.</p>
<p>It would be limiting if you couldn't interact between packages. That's why you can always access stuff from other packages by prefixing its name with package name. If you're writing a conversation in package <code class="codehilite"><span class="err">village</span></code> and you want to fire an event <code class="codehilite"><span class="err">reward</span></code> from package <code class="codehilite"><span class="err">beton</span></code>, you simply name the event as <code class="codehilite"><span class="err">beton.reward</span></code>. The plugin will search for <code class="codehilite"><span class="err">reward</span></code> in <code class="codehilite"><span class="err">beton</span></code> package instead of the one in which the conversation is defined. All events, conditions, objectives, items and conversations behave this way. Note that you can't cross-reference journal entries!</p>
<p>Packages can be nested together in folders. A folder can either contain packages or be a package, never both. The name of such nested package is prefixed by names of all folders, separated with a dash. This directory tree (<em>main.yml</em> represents a package):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">    BetonQuest/</span>
<span class="err">    ‚îú‚îÄdefault/</span>
<span class="err">    ‚îî‚îÄquests/</span>
<span class="err">      ‚îú‚îÄvillage1/</span>
<span class="err">      ‚îÇ ‚îú‚îÄquest1/</span>
<span class="err">      ‚îÇ ‚îÇ ‚îî‚îÄmain.yml</span>
<span class="err">      ‚îÇ ‚îî‚îÄquest2/</span>
<span class="err">      ‚îÇ   ‚îî‚îÄmain.yml</span>
<span class="err">      ‚îî‚îÄvillage2/</span>
<span class="err">        ‚îî‚îÄquest1/</span>
<span class="err">          ‚îî‚îÄmain.yml</span>
</code></pre></div>
</td></tr></table>
<p>contains these packages:</p>
<ul>
<li><em>default</em></li>
<li><em>quests-village1-quest1</em></li>
<li><em>quests-village1-quest2</em></li>
<li><em>quests-village2-quest1</em></li>
</ul>
<h3 id="relative-paths">Relative paths</h3>
<p>You don't have to always specify a full package name. In the example above, if you wanted to reference package <code class="codehilite"><span class="err">quests-village1-quest2</span></code> from <code class="codehilite"><span class="err">quests-village1-quest1</span></code>, you could write it as <code class="codehilite"><span class="err">_-quest2</span></code> - this means "from the current package (<code class="codehilite"><span class="err">quest1</span></code>) go up one time and find there package <code class="codehilite"><span class="err">quest2</span></code>". Name <code class="codehilite"><span class="err">_</span></code> has special meaning here. Analogously, if you wanted to reference <code class="codehilite"><span class="err">quests-village2-quest1</span></code> from that package, you would use <code class="codehilite"><span class="err">_-_-village2-quest1</span></code>. Using <code class="codehilite"><span class="err">_</span></code> twice will get you to <code class="codehilite"><span class="err">quests</span></code> package, and from there you're going into <code class="codehilite"><span class="err">village2</span></code> and then <code class="codehilite"><span class="err">quest1</span></code>.</p>
<p>Relative paths can be useful if you want to move your packages between directories. Instead of rewriting every package name to match current directory tree, you can use relative paths and it will just work. It can also be useful if you want to create a downloadable quest package which can be placed anywhere and not just on the root directory (<em>BetonQuest/</em>) or when working with BetonQuest-Editor + BetonQuestUploader combo - quest writers don't have to prefix every package call with their name (this feature will work soon, needs an update in the editor).</p>
<h2 id="unified-location-formating">Unified location formating</h2>
<p>Whenever you want to define some location in your events, conditions, objectives or any other things, you will define it with this specific format. The location can consist of 2 things: base and vector. Only the base is always required.</p>
<p>The base is a core location. Currently there are two types: absolute coordinates and variables. Absolute coordinates are defined like <code class="codehilite"><span class="err">100;200;300;world</span></code>, where <code class="codehilite"><span class="err">100</span></code> is X coordinate, <code class="codehilite"><span class="err">200</span></code> is Y, <code class="codehilite"><span class="err">300</span></code> is Z and <code class="codehilite"><span class="err">world</span></code> is the name of the world. These can have decimal values. If you want you can also add two more numbers at the end, yaw and pitch (these are controlling the rotation, for example in teleportation event, both are needed if you decide to add them; example: <code class="codehilite"><span class="err">0.5;64;0.5;world;90;-270</span></code>).</p>
<p>To use a variable as the location's base it must resolve to a valid absolute coordinates. An example of such variable is <code class="codehilite"><span class="nf">%location</span><span class="o">%</span></code>, which shows player's exact location. Simply place it instead of coordinates. There is one rule though: you can't use variable base types in events running without players (for example static events or the ones run from folder event after their player left the server). BetonQuest won't be able to resolve the location variable without the player!</p>
<p>The vector is a modification of the location. It will be useful if you use global variables instead of base (described in the next subsection) or the base itself is variable, like <code class="codehilite"><span class="err">player</span></code>. Vectors look like <code class="codehilite"><span class="err">-&gt;(10;2.5;-13)</span></code> and are added to the end of the base. This will modify the location, X by 10, Y by 2.5 and Z by -13. For example, location written as <code class="codehilite"><span class="err">100;200;300;world_nether-&gt;(10;2.5;-13)</span></code> will generate a location with X=110, Y=202.5 and Z=287 on <code class="codehilite"><span class="err">world_nether</span></code> world.</p>
<h2 id="global-variables">Global variables</h2>
<p>You can insert a global variable in any instruction string. It looks like this: <code class="codehilite"><span class="err">$beton$</span></code> (and this one would be called "beton"). When the plugin loads that instruction string it will replace those variables with values assigned to them in <em>main.yml</em> file <strong>before</strong> the instruction string is parsed. This is useful for example when installing a package containing a WorldEdit schematic of the quest building. Instead of going through the whole code to set those locations, names or texts you will only have to specify a few variables (that is, of course, if the author of the package used those variables properly in his code).</p>
<p>Note that these variables are something entirely different than conversation variables. Global ones use <code class="codehilite"><span class="err">$</span></code> characters and conversation ones use <code class="codehilite"><span class="c">%</span></code> characters. The former is resolved before the instruction string is parsed while the latter is resolved when the quests are running, usually on a per-player basis.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">variables</span><span class="p">:</span>
  <span class="nt">village_location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100;200;300;world</span>
  <span class="nt">village_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Concrete</span>
</code></pre></div>
</td></tr></table>
<h2 id="canceling-quests">Canceling quests</h2>
<p>If you want to let your players cancel their quest there is a function for that. In <em>main.yml</em> file there is <code class="codehilite"><span class="err">cancel</span></code> branch. You can specify there quests, which can be canceled, as well as actions that need to be done to actually cancel them. You can find an example in the <code class="codehilite"><span class="err">default</span></code> package. The arguments you can specify are:</p>
<ul>
<li><code class="codehilite"><span class="err">name</span></code> - this will be the name displayed to the player. All <code class="codehilite"><span class="err">_</span></code> characters will be converted to spaces. If you want to include other languages you can add here additional options (<code class="codehilite"><span class="err">en</span></code> for English etc.)</li>
<li><code class="codehilite"><span class="err">conditions</span></code> - this is a list of conditions separated by commas. The player needs to meet all those conditions to be able to cancel this quest. Place there the ones which detect that the player has started the quest, but he has not finished it yet. </li>
<li><code class="codehilite"><span class="err">objectives</span></code> - list of all objectives used in this quest. They will be canceled without firing their events.</li>
<li><code class="codehilite"><span class="err">tags</span></code> - this is a list of tags that will be deleted. Place here all tags that you use during the quest.</li>
<li><code class="codehilite"><span class="err">points</span></code> - list of all categories that will be entirely deleted.</li>
<li><code class="codehilite"><span class="err">journal</span></code> - these journal entries will be deleted when canceling the quest.</li>
<li><code class="codehilite"><span class="err">events</span></code> - if you want to do something else when canceling the quest (like punishing the player), list the events here.</li>
<li><code class="codehilite"><span class="err">loc</span></code> - this is a location to which the player will be teleported when canceling the quest (defined as in teleport event);</li>
</ul>
<p>To cancel the quest you need to open your backpack and select a "cancel" button (by default a bone, can be changes by naming an item "cancel_button" inside default package). There will be a list of quests which can be canceled. Just select the one that interests you and it will be canceled.</p>
<h2 id="global-objectives">Global objectives</h2>
<p>If you want a objective to be active for every player right after joining you can create a global objective. This is done by adding <code class="codehilite"><span class="err">global</span></code> argument to the instruction of the objective. When you then reload BetonQuest it is started for all online players and also will be started for every player who joins.</p>
<p>To prevent the objective from being started every time a player joins a tag is set for the player whenever the objective is started and as long as the player has the tag the objective wont be started again if the player joins.<br/>
These tags follow syntax <code class="codehilite"><span class="err">&lt;package&gt;.global-&lt;id&gt;</span></code>, where <code class="codehilite"><span class="err">&lt;id&gt;</span></code> is the objectives id and <code class="codehilite"><span class="err">&lt;package&gt;</span></code> the package where the objective is located.</p>
<p>Possible use cases would be a quest which starts if a player reaches a specific location or breaks a specific block.</p>
<p><strong>Example:</strong>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">start_quest_mine</span><span class="p">:</span> <span class="s">'location</span><span class="nv"> </span><span class="s">100;200;300;world</span><span class="nv"> </span><span class="s">5</span><span class="nv"> </span><span class="s">events:start_quest_mine_folder</span><span class="nv"> </span><span class="s">global'</span>
</code></pre></div>
</td></tr></table></p>
<h2 id="static-events">Static events</h2>
<p>Static events are events that will fire at the specified time of the day. They are not tied to a specific player, so not all of event types can be used as static. (Which player should receive a tag or objective? From which one should the items be taken?) Also, static events cannot have conditions defined (<code class="codehilite"><span class="c">event-conditions:</span></code> argument), as the plugin cannot check any condition without the player. Events, that can be used as static are flagges with <code class="codehilite"><span class="err">static</span></code> keyword in this documentation. You can define your static events in <em>main.yml</em> file under <code class="codehilite"><span class="err">static</span></code> section, as such:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">static</span><span class="p">:</span>
  <span class="s">'09:00'</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">beton</span>
  <span class="s">'23:59'</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lightning_strike</span>
  <span class="s">'11:23'</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">some_command</span>
</code></pre></div>
</td></tr></table>
<p>The hour must be in <code class="codehilite"><span class="err">''</span></code> to avoid problems, it needs leading zero if less than 10. <code class="codehilite"><span class="err">beton</span></code>, <code class="codehilite"><span class="err">lightnint_strike</span></code> etc. are IDs of events. There can only be one event specified, but it can be of type "folder".</p>
<h2 id="journal">Journal</h2>
<p>The journal is a book in which all your adventures are described. You can obtain it by typing <strong>/j</strong> command or <strong>/b</strong> and selecting it from backpack. You cannot put it into any chests, item frames and so on. If you ever feel the need to get rid of your journal, just drop it - it will return to your backpack. The journal is updated with the <code class="codehilite"><span class="err">journal</span></code> event, and the text inside is defined in <em>journal.yml</em> config file. If you update these texts and reload the plugin, all players' journals will reflect changes. Colors in the journal can be altered in config.yml. The entries can use color codes, but the color will be lost between pages.</p>
<p>The journal by default appears in the last slot of the hotbar. If you want to change that use <code class="codehilite"><span class="err">default_journal_slot</span></code> option in <em>config.yml</em>, experiment with different settings until you're ok with it.</p>
<p>If you want to translate the entry do the same thing as with conversation option - go to new line, add language ID and the journal text for every language you want to include.</p>
<p>You can control behavior of the journal in <em>config.yml</em> file, in <code class="codehilite"><span class="err">journal</span></code> section. <code class="codehilite"><span class="err">chars_per_page</span></code> specifies how many characters will be placed on a single page. If you set it too high, the text will overflow outside of the page, too low, there will be too much pages. <code class="codehilite"><span class="err">one_entry_per_page</span></code> allows you to place every entry on a single page. The <code class="codehilite"><span class="err">chars_per_page</span></code> setting is in this case ignored, BetonQuest will put entire entry on that page. <code class="codehilite"><span class="err">reversed_order</span></code> allows you to reverse order of entries and <code class="codehilite"><span class="err">hide_date</span></code> lets you remove the date from journal entries.</p>
<p>You can control colors in the journal in <code class="codehilite"><span class="err">journal_colors</span></code> section in <em>config.yml</em>: <code class="codehilite"><span class="err">date</span></code> is a color of date of every entry, <code class="codehilite"><span class="err">line</span></code> is a color of lines separating entries and <code class="codehilite"><span class="err">text</span></code> is just a color of a text. You need to use standard color codes without <code class="codehilite"><span class="err">&amp;</span></code> (eg. <code class="codehilite"><span class="err">'4'</span></code> for dark red).</p>
<p>You can also add a main page to the journal. It's a list of texts, which will show only if specified conditions are met. You can define them in the <em>main.yml</em> file, in the <code class="codehilite"><span class="err">journal_main_page</span></code> section:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">journal_main_page</span><span class="p">:</span>
  <span class="nt">title</span><span class="p">:</span>
    <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">text</span><span class="p">:</span>
      <span class="nt">en</span><span class="p">:</span> <span class="s">'&amp;eThe</span><span class="nv"> </span><span class="s">Journal'</span>
      <span class="nt">pl</span><span class="p">:</span> <span class="s">'&amp;eDziennik'</span>
    <span class="nt">conditions</span><span class="p">:</span> <span class="s">'quest_started,!quest_completed'</span>
</code></pre></div>
</td></tr></table>
<p>Each string can have text in different languages, list of conditions separated by commas (these must be met for the text to show in the journal) and <code class="codehilite"><span class="err">priority</span></code>, which controls the order of texts. You can use conversation variables in the texts, but they will only be updated when the player gets his journal with the <strong>/journal</strong> command. Color codes are supported.</p>
<p>If you want your main page take a separate page (so entries will be displayed on next free page), set <code class="codehilite"><span class="err">full_main_page</span></code> in <em>config.yml</em> to "true".</p>
<h2 id="tags">Tags</h2>
<p>Tags are little pieces of text you can assign to player and then check if he has them. They are particularly useful to determine if player has started or completed quest. They are given with <code class="codehilite"><span class="err">tag</span></code> event and checked with <code class="codehilite"><span class="err">tag</span></code> condition. All tags are bound to a package, so if you add <code class="codehilite"><span class="err">beton</span></code> tag from within the <code class="codehilite"><span class="err">default</span></code> package, the tag will look like <code class="codehilite"><span class="err">default.beton</span></code>. If you're checking for <code class="codehilite"><span class="err">beton</span></code> tag from within <code class="codehilite"><span class="err">default</span></code> package, you're actually checking for <code class="codehilite"><span class="err">default.beton</span></code>. If you want to check a tag from another package, then you just need to prefix it's name with that package, for example <code class="codehilite"><span class="err">quest.beton</span></code>.</p>
<h2 id="points">Points</h2>
<p>Points are like tags, but with amount. You can earn them for doing quest, talking with NPC‚Äôs, basically for everything you want. You can also take the points away, even to negative numbers. Points can be divided to categories, so the ones from <em>beton</em> category won‚Äôt mix with points from <em>quests</em> group. Of course then you can check if player has (or doesn‚Äôt have) certain amount and do something based on this condition. They can be used as counter for specific number of quest done, as a reputation system in villages and even NPC‚Äôs attitude to player.</p>
<h2 id="npcs">NPCs</h2>
<p>Conversations can be assigned to NPCs. You do it in the <em>main.yml</em> file inside a package, in "npcs" section:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">npcs</span><span class="p">:</span>
  <span class="s">'0'</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">innkeeper</span>
  <span class="s">'Innkeeper'</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">innkeeper</span>
</code></pre></div>
</td></tr></table>
<p>The first string is the name of the NPC, second one is the corresponding conversation name. In case you use Citizens, name is the ID of an NPC (<em>don't try to put Citizens NPC's name here, it must be the ID</em>). To acquire it just select the NPC and type <code class="codehilite"><span class="err">/npc</span></code>. If you don't want to use Citizens, you can also build NPCs as any other building in Minecraft:</p>
<p>Place somewhere a block of stained clay, no matter the color. Then place a head on top of it (type doesn't matter, it must be head). Now place a sign on the side of the clay block (it can be on it's back) and type in the first line <code class="codehilite"><span class="o">[</span><span class="n">NPC</span><span class="o">]</span><span class="w"></span></code>, and on the second line the ID of the NPC (in case of the above code example, the ID would be <code class="codehilite"><span class="err">Innkeeper</span></code>). You need to have permission <code class="codehilite"><span class="err">betonquest.createnpc</span></code> for that. Congratulations, you have created the NPC. Now you can add levers (hands) to it and maybe even a fence gate (legs). Conversation is started by right clicking it's head.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using Citizens ID's they must be enclosed in quotes.</p>
</div>
<h2 id="items">Items</h2>
<p>Items in BetonQuest are defined in <em>items.yml</em> file. Each item has an instruction string, similarly to events, conditions etc. Basic syntax is very simple:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">item</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BLOCK_SELECTOR other arguments...</span>
</code></pre></div>
</td></tr></table>
<p><a href="#block-selectors">BLOCK_SELECTOR</a> is a type of the item. It doesn't have to be all in uppercase. Other arguments specify data like name of the item, lore, enchantments or potion effects. There are two categories of these arguments: the ones you can apply to every item and type specific arguments. Examples would be name (for every item type) and text (only in books).</p>
<p>Every argument is used in two ways: when creating an item and when checking if some existing item matches the instruction. The first case is pretty straightforward - BetonQuest takes all data you specified and creates an item, simple as that. Second case is more complicated. You can require some property of the item to exist, other not to exist, or skip this property check altogether. You can also accept an item only if some value (like enchantment level) is greater/less than <em>x</em>. You can use wildcards in the BLOCK_SELECTOR to match multiple types of items.</p>
<p>These are arguments that can be applied to every item:</p>
<ul>
<li>
<p><code class="codehilite"><span class="err">name</span></code> - the display name of the item. All underscores will be replaced with spaces and you can use <code class="codehilite"><span class="err">&amp;</span></code> color codes. If you want to specifically say that the item must not have any name, use <code class="codehilite"><span class="err">none</span></code> keyword.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">lore</span></code> - text under the item's name. Default styling of lore is purple and italic. All underscores will be replaced with spaces and you can use <code class="codehilite"><span class="err">&amp;</span></code> color codes. To make a new line use <code class="codehilite"><span class="err">;</span></code> character. If you require the item not to have lore at all, use <code class="codehilite"><span class="err">none</span></code> keyword. By default lore will match only if all lines are exactly the same. If you want to accept all items which contain specified lines (and/or more lines), add <code class="codehilite"><span class="err">lore-containing</span></code> argument to the instruction string.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">data</span></code> - data value of the item. An example of this would be different wool colors or damage of a pickaxe. You can require an exact value by specifying a number, or a value greater/less (and equal) than specified by adding <code class="codehilite"><span class="err">+</span></code>/<code class="codehilite"><span class="err">-</span></code> character at the end of the number.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">enchants</span></code> - a list of enchantments and their levels. Each enchantment consists of these things, separated by colons:</p>
<ul>
<li><a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/enchantments/Enchantment.html">name</a></li>
<li>level (a positive number)</li>
</ul>
<p>For example <code class="codehilite"><span class="n">damage_all</span><span class="o">:</span><span class="mi">3</span></code> is <em>Sharpness III</em>. You can specify additional enchantments by separating them with commas.</p>
<p>You can require the item not to have any enchantments by using <code class="codehilite"><span class="err">none</span></code> keyword. You can also add <code class="codehilite"><span class="err">+</span></code>/<code class="codehilite"><span class="err">-</span></code> character to the enchantment level to make the check require levels greater/less (and equal) than specified. If you don't care about the level, replace the number with a question mark.</p>
<p>By default all specified enchantments are required. If you want to check if the item contains a matching enchantment (and/or more enchants), add <code class="codehilite"><span class="err">enchants-containing</span></code> argument to the instruction string. Each specified enchantment will be required on the item by default unless you prefix its name with <code class="codehilite"><span class="err">none-</span></code>, for example <code class="codehilite"><span class="err">none-knockback</span></code> means that the item must not have any knockback enchantment. <strong>Do not use <code class="codehilite"><span class="err">none-</span></code> prefix unless you're using <code class="codehilite"><span class="err">enchants-containing</span></code> argument</strong>, it doesn't make any sense and will break the check!</p>
</li>
<li>
<p><code class="codehilite"><span class="err">unbreakable</span></code> - this makes the item unbreakable. You can specify it either as <code class="codehilite"><span class="err">unbreakable</span></code> or <code class="codehilite"><span class="n">unbreakable</span><span class="o">:</span><span class="kc">true</span></code> to require an item to be unbreakable. If you want to check if the item is breakable, use <code class="codehilite"><span class="n">unbreakable</span><span class="o">:</span><span class="kc">false</span></code>.</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">name:&amp;4Sword_made_of_Holy_Concrete</span>
<span class="l l-Scalar l-Scalar-Plain">name:none</span>
<span class="l l-Scalar l-Scalar-Plain">lore:&amp;cOnly_this_sword_can_kill_the_Lord_Ruler</span>
<span class="l l-Scalar l-Scalar-Plain">lore:&amp;2Quest_Item lore-containing</span>
<span class="l l-Scalar l-Scalar-Plain">lore:none</span>
<span class="l l-Scalar l-Scalar-Plain">data:5</span>
<span class="l l-Scalar l-Scalar-Plain">data:500-</span>
<span class="l l-Scalar l-Scalar-Plain">enchants:damage_all:3+,none-knockback</span>
<span class="l l-Scalar l-Scalar-Plain">enchants:power:? enchants-containing</span>
<span class="l l-Scalar l-Scalar-Plain">enchants:none</span>
<span class="l l-Scalar l-Scalar-Plain">unbreakable</span>
<span class="l l-Scalar l-Scalar-Plain">unbreakable:false</span>
</code></pre></div>
</td></tr></table>
<p>These are the arguments that can be applied only to specific item types:</p>
<h3 id="books">Books</h3>
<p><em>This applies to a written book and a book and quill.</em></p>
<ul>
<li>
<p><code class="codehilite"><span class="err">title</span></code> - the title of a book. All underscores will be replaced with spaces and you can use <code class="codehilite"><span class="err">&amp;</span></code> color codes. If you want to specifically say that the book must not have any title, use <code class="codehilite"><span class="err">none</span></code> keyword.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">author</span></code> - the author of a book. All underscores will be replaced with spaces, you cannot use color codes here. If you want to specifically say that the book must not have any author, use <code class="codehilite"><span class="err">none</span></code> keyword.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">text</span></code> - the text of the book. All underscores will be replaced with spaces and you can use <code class="codehilite"><span class="err">&amp;</span></code> color codes. The text will wrap to the next page if amount of characters exceeds <code class="codehilite"><span class="err">journal.chars_per_page</span></code> setting in <em>config.yml</em>. If you want to manually wrap the page, use <code class="codehilite"><span class="err">|</span></code> character. To go to new line use <code class="codehilite"><span class="err">\n</span></code>. Keep in mind that you can't use any spaces here, you must only use underscores (<code class="codehilite"><span class="err">_</span></code>). This needs to be a single argument, even if it's really long. If you don't want the book to have any text, use <code class="codehilite"><span class="err">none</span></code> keyword instead.</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">title:Malleus_Maleficarum</span>
<span class="l l-Scalar l-Scalar-Plain">author:&amp;eGallus_Anonymus</span>
<span class="l l-Scalar l-Scalar-Plain">text:Lorem_ipsum_dolor_sit_amet,\nconsectetur_adipiscing_elit.|Pellentesque_ligula_urna(...)</span>
</code></pre></div>
</td></tr></table>
<h3 id="potions">Potions</h3>
<p><em>This applies to potions, splash potions and lingering potions.</em></p>
<ul>
<li>
<p><code class="codehilite"><span class="err">type</span></code> - type of a potion. Here's <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/potion/PotionType.html">the list</a> of possible types. Do not mistake this for a custom effect, this argument corresponds to the default vanilla potion types.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">extended</span></code> - extended property of the potion (you can achieve it in-game by adding redstone). It can be specified as <code class="codehilite"><span class="err">extended</span></code> or <code class="codehilite"><span class="n">extended</span><span class="o">:</span><span class="kc">true</span></code>. If you want to check the potion that is NOT extended, use <code class="codehilite"><span class="n">upgraded</span><span class="o">:</span><span class="kc">false</span></code>.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">upgraded</span></code> - upgraded property of the potion (you can achieve it in-game by adding glowstone). It can be specified as <code class="codehilite"><span class="err">upgraded</span></code> or <code class="codehilite"><span class="n">upgraded</span><span class="o">:</span><span class="kc">true</span></code>. If you want to check the potion that is NOT upgraded, use <code class="codehilite"><span class="n">upgraded</span><span class="o">:</span><span class="kc">false</span></code>.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">effects</span></code> - a list of custom effects. These are independent of the potion type. The effects must be separated by commas. Each effect consists of these things, separated by colons:</p>
<ul>
<li><a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/potion/PotionEffectType.html">type</a> (this is different stuff that the link above!)</li>
<li>power</li>
<li>duration (in seconds)</li>
</ul>
<p>An example would be <code class="codehilite"><span class="n">WITHER</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">30</span></code>, which is a wither effect of level 2 for 30 seconds.</p>
<p>If you want to target only potions without custom effects, use <code class="codehilite"><span class="err">none</span></code> keyword. You can target potions with level and time greater/less (and equal) than specified with <code class="codehilite"><span class="err">+</span></code>/<code class="codehilite"><span class="err">-</span></code> character after the number. If you don't care about the level/time, you can replace them with question mark.</p>
<p>By default all specified effects are required. If you want to check if the potion contains these effects among others, add <code class="codehilite"><span class="err">effects-containing</span></code> argument to the instruction string. Now if you want to make sure the potion doesn't contain a specific effect, prefix the effect name with <code class="codehilite"><span class="err">none-</span></code>. <strong>Don't use that prefix unless you're also using <code class="codehilite"><span class="err">effects-containing</span></code> argument</strong>, it doesn't make any sense and it will break the check.</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">type:instant_heal</span>
<span class="l l-Scalar l-Scalar-Plain">extended</span>
<span class="l l-Scalar l-Scalar-Plain">upgraded:false</span>
<span class="l l-Scalar l-Scalar-Plain">effects:poison:1+:?,slow:?:45-</span>
<span class="l l-Scalar l-Scalar-Plain">effects:none-weakness,invisibility:?:? effects-containing</span>
</code></pre></div>
</td></tr></table>
<h3 id="heads">Heads</h3>
<p><em>This applies to human heads.</em></p>
<ul>
<li><code class="codehilite"><span class="err">owner</span></code> - this is the name of the head owner. It will <strong>not</strong> use color codes nor replace underscores with spaces. If you want to check for heads without any owner, use <code class="codehilite"><span class="err">none</span></code> keyword.</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">owner:Co0sh</span>
<span class="l l-Scalar l-Scalar-Plain">owner:none</span>
</code></pre></div>
</td></tr></table>
<h3 id="leather-armor">Leather armor</h3>
<p><em>This applies to all parts of leather armor.</em></p>
<ul>
<li><code class="codehilite"><span class="err">color</span></code> - this is the color of the armor piece. It can be either one of <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/DyeColor.html">these values</a>, a hexadecimal RGB value prefixed with <code class="codehilite"><span class="err">#</span></code> character or its decimal representation without the prefix. You can also check if the armor piece doesn't have any color with <code class="codehilite"><span class="err">none</span></code> keyword.</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">color:light_blue</span>
<span class="l l-Scalar l-Scalar-Plain">color:#ff00ff</span>
<span class="l l-Scalar l-Scalar-Plain">color:none</span>
</code></pre></div>
</td></tr></table>
<h3 id="fireworks">Fireworks</h3>
<p><em>This applies to fireworks.</em></p>
<ul>
<li>
<p><code class="codehilite"><span class="err">firework</span></code> - this is a list of effects of the firework rocket. They are separated by commas. Each effect consists of these things separated by colons:</p>
<ul>
<li><a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/FireworkEffect.Type.html">effect type</a></li>
<li>a list of main colors (refer to leather armor colors above for syntax) separated by semicolons</li>
<li>a list of fade colors</li>
<li><code class="codehilite"><span class="err">true</span></code>/<code class="codehilite"><span class="err">false</span></code> keyword for trail effect</li>
<li><code class="codehilite"><span class="err">true</span></code>/<code class="codehilite"><span class="err">false</span></code> keyword for flicker.</li>
</ul>
<p>Note the separation characters, this is important: commas separate effects, colons separate effect properties, semicolons separate colors.</p>
<p>If you want to target fireworks without any effects, use <code class="codehilite"><span class="err">none</span></code> keyword. If you want to target any effect type, use question mark instead of the effect name. If you don't want the effect to have any main/fade colors, use <code class="codehilite"><span class="err">none</span></code> keyword in the place of colors. If you don't care about main/fade colors, use question marks in that place. If you don't care about trail/flicker effect, use question marks instead of <code class="codehilite"><span class="err">true</span></code>/<code class="codehilite"><span class="err">false</span></code> keyword.</p>
<p>By default the check will require all specified effects to be present on the firework. You can check if the firework contains specified effects among others by adding <code class="codehilite"><span class="err">firework-containing</span></code> argument to the instruction string. To match the item which must not have an effect, prefix the effect name with <code class="codehilite"><span class="err">none-</span></code> keyword. <strong>Don't use that prefix unless you're also using <code class="codehilite"><span class="err">firework-containing</span></code> argument</strong>, it doesn't make any sense and will break the check.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">power</span></code> - flight duration of the firework, in levels. You can use <code class="codehilite"><span class="err">+</span></code>/<code class="codehilite"><span class="err">-</span></code> character to target greater/less (and equal) levels.</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">firework:ball:red;white:green;blue:true:true,ball_large:green;yellow:pink;black:false:false</span>
<span class="l l-Scalar l-Scalar-Plain">firework:burst:?:none:?:? firework-containing</span>
<span class="l l-Scalar l-Scalar-Plain">firework:none-creeper firework-containing</span>
<span class="l l-Scalar l-Scalar-Plain">firework:none</span>
<span class="l l-Scalar l-Scalar-Plain">power:3</span>
<span class="l l-Scalar l-Scalar-Plain">power:2+</span>
</code></pre></div>
</td></tr></table>
<h3 id="firework-charges">Firework charges</h3>
<p><em>This applies to firework charges.</em></p>
<ul>
<li><code class="codehilite"><span class="err">firework</span></code> - this is almost the same as fireworks. You can only specify a single effect and the <code class="codehilite"><span class="err">power</span></code> argument has no effects.</li>
</ul>
<h2 id="backpack">Backpack</h2>
<p>Sometimes you'll want some items to be persistent over death. If the player has lost them the quest would be broken. You can add a apecific line to item's lore to make it persistent (<code class="codehilite"><span class="err">&amp;2Quest_Item</span></code> by default, <code class="codehilite"><span class="err">_</span></code> is a space in item's definition). Note that this must be a whole new line in the lore! Such item wouldn't be dropped on death, instead it would be placed in player's backpack. <strong>Example</strong>: <code class="codehilite"><span class="nt">important_sword</span><span class="p">:</span> <span class="s">'DIAMOND_SWORD</span><span class="nv"> </span><span class="s">name:Sword_for_destroying__The_Concrete</span><span class="nv"> </span><span class="s">lore:Made_of_pure_Mithril;&amp;2Quest_Item'</span></code></p>
<p>To open your backpack just type <strong>/j</strong> command. The inventory window will open, displaying your stored items. The first slot is always the journal, and if you get it, the slot will stay empty. You can transfer quest items back and forth between inventories by clicking on them. Left click will transfer just one item, right click will try to transfer all items. Normal items cannot be stored into the backpack, so it's not an infinite inventory.</p>
<p>If you will ever have more than one page of quest items, the buttons will appear. You can customize those buttons by creating <code class="codehilite"><span class="err">previous_button</span></code> and <code class="codehilite"><span class="err">next_button</span></code> items in <em>items.yml</em> file. Their name will be overwritten with the one defined in <em>messages.yml</em>.</p>
<p>Quest items cannot be dropped in any way other than using them. This way you can create a quest for eating cookies by giving the player a stack of cookies flagged as quest items and not continuing until there are no more cookies in his inventory/backpack. The player cannot drop the cookies, so he must eat every one of them to complete the quest.</p>
<p>Don't worry if the item-dropping filter isn't working for your items when you're in creative mode - it's not a bug. It's a feature. Creative-mode players should be able to easily put quest items in containers like TreasureChests.</p>
<h2 id="party">Party</h2>
<p>Parties are very simple. So simple, that they are hard to understand if you already know some other party system. Basically, they don't even have to be created before using them. Parties are defined directly in conditions/events (<code class="codehilite"><span class="err">party</span></code> event, <code class="codehilite"><span class="err">party</span></code> conditions, check them out in the reference lists below). In such instruction strings the first argument is a number - range. It defines the radius where the party members will be looked for. Second is a list of conditions. Only the players that meet those conditions will be considered as members of the party. It's most intuitive for players, as they don't have to do anything to be in a party - no commands, no GUIs, just starting the same quest or having the same item - you choose what and when makes the party.</p>
<p>To understand better how it works I will show you an example of <code class="codehilite"><span class="err">party</span></code> event. Let's say that every player has an objective of pressing a button. When one of them presses it, this event is fired:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nt">party_reward</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">party 50 quest_started cancel_button,teleport_to_dungeon</span>
</code></pre></div>
</td></tr></table>
<p>Now, it means that all players that: are in radius of 50 blocks around the player who pressed the button AND meet <code class="codehilite"><span class="err">quest_started</span></code> condition will receive <code class="codehilite"><span class="err">cancel_button</span></code> and <code class="codehilite"><span class="err">teleport_to_dungeon</span></code> events. The first one will cancel the quest for pressing the button for the others (it's no longer needed), the second one will teleport them somewhere. Now, imagine there is a player on the other side of the world who also meets <code class="codehilite"><span class="err">quest_started</span></code> condition - he won't be teleported into the dungeon, because he was not with the other players (not in 50 blocks range). Now, there were a bunch of other players running around the button, but they didn't meet the <code class="codehilite"><span class="err">quest_started</span></code> condition. They also won't be teleported (they didn't start this quest).</p>
<h2 id="block-selectors">Block Selectors</h2>
<p>When specifying a way of matching a block, a <code class="codehilite"><span class="err">block selector</span></code> is used. This differs a little depending if your Minecraft version is older than 1.13 or newer.</p>
<h3 id="pre-113-minecraft">Pre 1.13 Minecraft</h3>
<p>The format of a block selector is: <code class="codehilite"><span class="n">material</span><span class="o">:</span><span class="n">data</span></code></p>
<p>Where:</p>
<ul>
<li>
<p><code class="codehilite"><span class="err">material</span></code> - What material the block is made of. You can look this up in <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html">this list</a>.</p>
</li>
<li>
<p><code class="codehilite"><span class="err">data</span></code> - (optional) A number representing the data of the block. If left out then the selector will match all data types.</p>
</li>
</ul>
<p>Examples:</p>
<ul>
<li>
<p><code class="codehilite"><span class="err">LOG</span></code> - Matches all LOGS</p>
</li>
<li>
<p><code class="codehilite"><span class="n">LOG</span><span class="o">:</span><span class="mi">1</span></code> - Matches SPRUCE LOGS</p>
</li>
</ul>
<h3 id="113-and-above">1.13 and above</h3>
<p>The format of a block selector is: <code class="codehilite"><span class="n">prefix</span><span class="o">:</span><span class="n">material</span><span class="o">[</span><span class="n">state</span><span class="o">=</span><span class="n">value</span><span class="o">,...]</span></code></p>
<p>Where:</p>
<ul>
<li>
<p><code class="codehilite"><span class="err">prefix</span></code> - (optional) The material prefix. If left out then it will be assumed to be 'minecraft'</p>
</li>
<li>
<p><code class="codehilite"><span class="err">material</span></code> - The material the block is made of. You can look this up in <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html">this list</a>. Wildcards are supported (both * and ?).</p>
</li>
<li>
<p><code class="codehilite"><span class="err">state</span></code> - (optional) The block states can be provided in a comma separated list surrounded by square brackets. You can look up states in <a href="https://minecraft.gamepedia.com/1.13/Flattening#Block_states">this list</a>. Any states left out will be ignored when matching.</p>
</li>
</ul>
<p>Examples:</p>
<ul>
<li>
<p><code class="codehilite"><span class="n">minecraft</span><span class="o">:</span><span class="n">stone</span></code> - Matches all blocks of type STONE</p>
</li>
<li>
<p><code class="codehilite"><span class="err">redstone_wire</span></code> - Matches all blocks of type REDSTONE_WIRE</p>
</li>
<li>
<p><code class="codehilite"><span class="err">redstone_wire[power=5]</span></code> - Matches all blocks of type REDSTONE_WIRE and which have a power of 5</p>
</li>
<li>
<p><code class="codehilite"><span class="err">redstone_wire[power=5,facing=1]</span></code> - Matches all blocks of type REDSTONE_WIRE and which have both a power of 5 and are facing 1</p>
</li>
<li>
<p><code class="codehilite"><span class="err">*_LOG</span></code> - Matches all LOGS</p>
</li>
<li>
<p><code class="codehilite"><span class="err">*</span></code> - Matches everything</p>
</li>
<li>
<p><code class="codehilite"><span class="err">*[waterlogged=true]</span></code> - Matches all waterlogged blocks</p>
</li>
</ul>
<hr/>
<div class="md-source-date">
<small>
                      
                        Last update: <span class="timeago" datetime="1577506355000" locale="en"></span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../04-Quick-start-tutorial/" rel="prev" title="Quick Start Tutorial">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Quick Start Tutorial
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../Notifications/" rel="next" title="Notifications">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Notifications
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            ¬© 2019  Jakub "Co0sh" Sapalski. GPLv3
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" rel="noopener" target="_blank">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs</a>
</div>
<div class="md-footer-social">
<link href="../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-discord" href="https://discord.gg/MvmkHEu" rel="noopener" target="_blank" title="discord"></a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
<script src="../js/version_select.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.locales.min.js"></script>
<script>
            var nodes = document.querySelectorAll('.timeago');
            var locale = nodes[0].getAttribute('locale');
            timeago.render(nodes, locale);
          </script>
</body>
</html>